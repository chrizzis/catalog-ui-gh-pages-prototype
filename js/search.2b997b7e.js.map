{"version":3,"sources":["webpack:///./src/views/Search.vue?16f4","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?536d","webpack:///./src/views/Search.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","sortedKeyList","searchInput","on","$event","scopedSlots","_u","key","fn","data","_b","selected","select","removeSelectedKey","item","avatar","staticClass","proxy","_v","_s","icon","name","domProps","model","value","callback","$$v","selectedKeys","expression","_l","index","itemsWithKey","showMetadata","selectItem","id","description","staticRenderFns","components","ItemCard","beforeMount","getPrefs","searchKeys","computed","watch","console","log","storeSearchKeys","newVal","methods","$router","push","splice","component","VAutocomplete","VAvatar","VChip","VCol","VContainer","VIcon","VImg","VListItemAvatar","VListItemContent","VList","VListItemTitle","VProgressCircular","VRow"],"mappings":"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","file":"js/search.2b997b7e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.sortedKeyList,\"search-input\":_vm.searchInput,\"item-text\":\"name\",\"item-value\":\"name\",\"clearable\":\"\",\"deletable-chips\":\"\",\"dense\":\"\",\"filled\":\"\",\"multiple\":\"\",\"rounded\":\"\",\"small-chips\":\"\",\"solo\":\"\"},on:{\"update:searchInput\":function($event){_vm.searchInput=$event},\"update:search-input\":function($event){_vm.searchInput=$event},\"change\":function($event){_vm.searchInput = ''}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({attrs:{\"input-value\":data.selected,\"close\":\"\"},on:{\"click\":data.select,\"click:close\":function($event){return _vm.removeSelectedKey(data.item)}}},'v-chip',data.attrs,false),[(data.item.avatar)?_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-img',{attrs:{\"src\":data.item.avatar},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1):_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-\"+_vm._s(data.item.icon)+\" \")]),_vm._v(\" \"+_vm._s(data.item.name)+\" \")],1)]}},{key:\"item\",fn:function(data){return [[_c('v-list-item-avatar',[(data.item.avatar)?_c('img',{attrs:{\"src\":data.item.avatar}}):_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-\"+_vm._s(data.item.icon)+\" \")])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"innerHTML\":_vm._s(data.item.name)}})],1)]]}}]),model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('v-row',[_vm._l((_vm.selectedKeys),function(key,index){return [_c('v-col',{key:key,staticClass:\"mt-2\",attrs:{\"cols\":\"12\"}},[_c('strong',[_vm._v(_vm._s(key))])]),_vm._l((_vm.itemsWithKey(key)),function(item){return _c('v-col',{key:(key + \":\" + index + \":\" + (item.name)),staticClass:\"d-flex child-flex\",attrs:{\"cols\":\"6\"}},[_c('ItemCard',{attrs:{\"is-tile\":true,\"show-metadata\":_vm.showMetadata,\"image-src\":item.avatar,\"header-class\":\"align-end\"},on:{\"select-item\":function($event){return _vm.selectItem(item.id)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" \"+_vm._s(item.name)+\" \")]},proxy:true},{key:\"metadata\",fn:function(){return [_c('div',[_vm._v(\" \"+_vm._s(item.description)+\" \")])]},proxy:true}],null,true)})],1)})]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-autocomplete\n          v-model=\"selectedKeys\"\n          :items=\"sortedKeyList\"\n          :search-input.sync=\"searchInput\"\n          @change=\"searchInput = ''\"\n          item-text=\"name\"\n          item-value=\"name\"\n          clearable\n          deletable-chips\n          dense\n          filled\n          multiple\n          rounded\n          small-chips\n          solo\n        >\n          <template v-slot:selection=\"data\">\n            <v-chip\n              v-bind=\"data.attrs\"\n              :input-value=\"data.selected\"\n              close\n              @click=\"data.select\"\n              @click:close=\"removeSelectedKey(data.item)\"\n            >\n              <v-avatar left v-if=\"data.item.avatar\">\n                <v-img :src=\"data.item.avatar\">\n                  <template v-slot:placeholder>\n                    <v-row\n                      class=\"fill-height ma-0\"\n                      align=\"center\"\n                      justify=\"center\"\n                    >\n                      <v-progress-circular\n                        indeterminate\n                        color=\"grey lighten-5\"\n                      ></v-progress-circular>\n                    </v-row>\n                  </template>\n                </v-img>\n              </v-avatar>\n              <v-icon left v-else> mdi-{{ data.item.icon }} </v-icon>\n              {{ data.item.name }}\n            </v-chip>\n          </template>\n          <template v-slot:item=\"data\">\n            <template>\n              <v-list-item-avatar>\n                <img :src=\"data.item.avatar\" v-if=\"data.item.avatar\" />\n                <v-icon left v-else> mdi-{{ data.item.icon }} </v-icon>\n              </v-list-item-avatar>\n              <v-list-item-content>\n                <v-list-item-title v-html=\"data.item.name\"></v-list-item-title>\n              </v-list-item-content>\n            </template>\n          </template>\n        </v-autocomplete>\n      </v-col>\n    </v-row>\n    <!-- filtered results -->\n    <v-row>\n      <template v-for=\"(key, index) in selectedKeys\">\n        <v-col :key=\"key\" class=\"mt-2\" cols=\"12\">\n          <strong>{{ key }}</strong>\n        </v-col>\n        <v-col\n          v-for=\"item in itemsWithKey(key)\"\n          :key=\"`${key}:${index}:${item.name}`\"\n          class=\"d-flex child-flex\"\n          cols=\"6\"\n        >\n          <ItemCard\n            :is-tile=\"true\"\n            :show-metadata=\"showMetadata\"\n            :image-src=\"item.avatar\"\n            @select-item=\"selectItem(item.id)\"\n            header-class=\"align-end\"\n          >\n            <template v-slot:title>\n              {{ item.name }}\n            </template>\n\n            <template v-slot:metadata>\n              <div>\n                {{ item.description }}\n              </div>\n            </template>\n          </ItemCard>\n        </v-col>\n      </template>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport ItemCard from \"@/components/ItemCard.vue\";\n\nexport default {\n  components: {\n    ItemCard,\n  },\n  data() {\n    return {\n      searchInput: \"\",\n      selectedKeys: [],\n    };\n  },\n\n  beforeMount() {\n    this.selectedKeys = this.getPrefs.searchKeys;\n  },\n\n  computed: {\n    ...mapGetters([\"sortedKeyList\", \"itemsWithKey\", \"getPrefs\"]),\n    showMetadata() {\n      return this.getPrefs.showMetadata;\n    },\n  },\n\n  watch: {\n    selectedKeys: function (newVal, oldVal) {\n      console.log(`selectedKeys changed: ${oldVal} -> ${newVal}`);\n      this.storeSearchKeys(newVal);\n    },\n  },\n\n  methods: {\n    ...mapActions([\"addSearchKey\", \"removeSearchKey\", \"storeSearchKeys\"]),\n    selectItem(id) {\n      console.log(`selectItem: ${id}`);\n      this.$router.push({ name: \"Item\", params: { slug: id } });\n    },\n    removeSelectedKey(key) {\n      console.log(`removeSelectedKey: ${key}`);\n      const index = this.selectedKeys.indexOf(key.name);\n      if (index >= 0) this.selectedKeys.splice(index, 1);\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=0402e701&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VAvatar,VChip,VCol,VContainer,VIcon,VImg,VListItemAvatar,VListItemContent,VListItemTitle,VProgressCircular,VRow})\n"],"sourceRoot":""}